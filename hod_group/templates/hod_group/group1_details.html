{% extends 'hod_group/group_table.html' %}
{% load widget_tweaks %}
{% load signing_tags %}
{% load static %}
{% block group_table_details %}
<head>
	<!-- Include jQuery and DataTables scripts -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>
	<script src="https://cdn.datatables.net/1.13.5/js/dataTables.bootstrap5.min.js"></script>
	
	<!-- Link to Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <!-- Optional: Link to Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	
<style>
	/* Custom CSS for Dark Black Table Header */
	.table-dark thead {
		background-color: #000; /* Pure black background */
		color: #fff;           /* White text color for contrast */
		text-align: left;      /* Align text to the left */
		font-weight: bold;     /* Bold text for emphasis */
		border-bottom: 2px solid #444; /* Optional: Adds a border to separate header */
	}
	th {
		vertical-align: top;
	}
	div.dataTables_filter {
		margin-left: 440px;
		font-weight:bold;
	}
</style>


</head> 
<div class="container mt-3">
	<h2>Sanctioned and Admitted Students</h2>
    <a href="{% url 'hod_group:student_add' %}" class="btn btn-sm btn-primary">Add Record</a>
	
    <table id="studentsTable" class="table table-striped table-bordered ">
        <thead class="table-dark">
            <tr>
                <th>Srl</th>
                <th>Department<br> Name</th>
                <th>Programme<br> Name</th>
                <th>Programme<br> Code</th>
                <th>Academic<br> Year</th>
                <th>Sanctioned<br> Seats</th>
                <th>Admitted<br> Students</th>                
                <th>Reserved<br> Seats</th>
                
                <th style="text-align:center;">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for student in students %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ student.prog_name.name }}</td>
                <td>{{ student.prog_name.program|default:"No Data" }}</td>
                <td>{{ student.prog_name.prog_cd }}</td>
                <td>{{ student.acad_year }}</td>
                <td>{{ student.sanc_seats }}</td>
                <td>{{ student.admit_seats }}</td>                
                <td>{{ student.seats_resrv_catg }}</td>                
				
                <td style="text-align:center;">
                    <a href="{% url 'hod_group:student_edit' signed_id=student.id|sign_id %}?data_row={{ forloop.counter }}" 
					   class="btn btn-sm btn-primary">Edit
					</a>
					
					<a href="{% url 'hod_group:student_delete' signed_id=student.id|sign_id %}" class="btn btn-sm btn-danger">Delete</a>

                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="9" class="text-center">No students found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<!-- DataTables Initialization -->
<script>
    $(document).ready(function () {
        $('#studentsTable').DataTable({
            pageLength: 10,
            lengthChange: true,
            searching: true,
            ordering: true,
            columnDefs: [
                { orderable: false, targets: -1 } // Disable sorting on the Actions column
            ]
        });
    });
</script>

{% endblock %}
